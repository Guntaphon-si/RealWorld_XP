@if (isLoading()) {
  <div class="loader-container">
  <div class="loader-bar"></div>
  <div class="loader-bar"></div>
  <div class="loader-bar"></div>
  <p class="loader-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì...</p>
</div>
}@else {
<div class="particles">
  <!-- 
    2. ‡πÉ‡∏ä‡πâ @for ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å signal `particles()`
       track $index ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡∏∞‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
  -->
  @for (p of particles(); track $index) {
  <!-- 
      3. ‡∏™‡∏£‡πâ‡∏≤‡∏á div.particle ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ Style Binding ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏π‡∏Å‡∏Ñ‡πà‡∏≤ CSS
         Angular ‡∏à‡∏∞‡∏ô‡∏≥‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å `p.left`, `p.animationDelay` ‡∏Ø‡∏•‡∏Ø ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô style ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á
    -->
  <div
    class="particle"
    [style.left]="p.left"
    [style.animation-delay]="p.animationDelay"
    [style.animation-duration]="p.animationDuration"
  ></div>
  }
</div>

<!-- Top Navigation -->
<nav class="top-nav">
  <div class="logo">RealWorld XP</div>
  <div class="nav-buttons">
   <a href="/" class="exit-button">‡∏≠‡∏≠‡∏Å</a>
  </div>
</nav>
<main class="main-content">
  <div class="header">
    <h1>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h1>
  </div>
  <div class="BadgeContainer-stress">
        @switch(stressLevel()){ 
            @case (1) {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">üòå</span>
                <h3 class="lifestyle-title">Low</h3>
                <p class="lifestyle-desc">‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏™‡∏á‡∏ö‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≠‡∏î‡πÇ‡∏õ‡∏£‡πà‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏î‡πâ‡∏ß‡∏¢‡πÉ‡∏à‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏∏‡∏Ç</p>
                </div>
            } 
            @case (2) {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">üòï</span>
                <h3 class="lifestyle-title">Medium</h3>
                <p class="lifestyle-desc">‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡πá‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢ ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏´‡∏≤‡∏ó‡∏≤‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</p>
                </div>
            } 
            @case (3) {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">üò°</span>
                <h3 class="lifestyle-title">High</h3>
                <p class="lifestyle-desc">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ñ‡∏π‡∏Å‡∏ó‡∏¥‡πâ‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏ö‡∏Å‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏î‡∏î‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏±‡∏Å‡∏≠‡∏∂‡πâ‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏û‡∏±‡∏á</p>
                </div>
            } 
            @default {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">üå±</span>
                <h3 class="lifestyle-title">ERROR</h3>
                <p class="lifestyle-desc">‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î</p>
                </div>
            } 
    }
  </div>
  <div class="header">
    <h1>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</h1>
    <p class="subtitle">
      ‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö ‡πÄ‡∏£‡∏≤‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÄ‡∏õ‡πá‡∏ô
      <span class="lifestyle-highlight">
        {{lifestyleNamesString()}}
      </span>
      ‡∏•‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ
    </p>
  </div>
  <!-- Lifestyle Badge -->
  <div class="BadgeContainer">
    @for(lifestyle of lifeStyleId(); track lifestyle){ 
        @switch(lifestyle){ 
            @case (0) {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">üíº</span>
                <h3 class="lifestyle-title">Finance/Professional</h3>
                <p class="lifestyle-desc">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏ú‡πà‡∏≤‡∏ô‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠</p>
                </div>
            } 
            @case (1) {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">üí™</span>
                <h3 class="lifestyle-title">Health & Fitness</h3>
                <p class="lifestyle-desc">‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</p>
                </div>
            } 
            @case (2) {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">üåç</span>
                <h3 class="lifestyle-title">Sustainability</h3>
                <p class="lifestyle-desc">‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡πÇ‡∏•‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô</p>
                </div>
            } 
            @case (3) {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">üßë‚Äçüíª</span>
                <h3 class="lifestyle-title">Tech/Digital</h3>
                <p class="lifestyle-desc">‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏™‡∏°‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ï‡πà‡∏≤‡∏á‡πÜ</p>
                </div>
            } 
            @case (4) {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">‚úàÔ∏è</span>
                <h3 class="lifestyle-title">Travel & Adventure</h3>
                <p class="lifestyle-desc">‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏õ‡∏•‡∏Å‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏™‡∏°‡∏≠</p>
                </div>
            }
            @default {
                <div class="lifestyle-badge">
                <span class="lifestyle-icon">üå±</span>
                <h3 class="lifestyle-title">ERROR</h3>
                <p class="lifestyle-desc">‡πÑ‡∏°‡πà‡∏û‡∏ö LIFESTYLE ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</p>
                </div>
            } 
        }
    }
  </div>
  
  <section class="activities-section">
    <div class="activities-grid">
      <!-- 
      @for...of: ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°
      track act.id: ‡∏Ñ‡∏∑‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î! 
                    ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å Angular ‡∏ß‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏ï‡πà‡∏•‡∏∞ item ‡∏î‡πâ‡∏ß‡∏¢ `id` ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ô
                    ‡∏ã‡∏∂‡πà‡∏á‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï DOM ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
    -->
     <!-- 
      !! ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å activities() ‡πÄ‡∏õ‡πá‡∏ô visibleActivities() !!
      ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ @for ‡∏à‡∏∞‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡πÅ‡∏Ñ‡πà 6 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
    -->
    @for (act of visibleActivities(); track act.id) {
      <app-activity-card [activity]="act" (cardClicked)="toggleActivity(act)"></app-activity-card>
    } @empty {
      <p style="grid-column: 1 / -1; text-align: center; color: rgba(255, 255, 255, 0.7)">
        ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ...
      </p>
    }
    </div>
    @if (totalPages() > 1) {
    <div class="pagination-controls">
      <!-- 
        ‡πÉ‡∏ä‡πâ [disabled] ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏î‡πÑ‡∏î‡πâ 
        Angular ‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á signal
      -->
      <button class="pagination-btn" (click)="goToPreviousPage()" [disabled]="currentPage() === 1">
        ‚Äπ ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
      </button>

      <span class="page-indicator">
        ‡∏´‡∏ô‡πâ‡∏≤ {{ currentPage() }} / {{ totalPages() }}
      </span>

      <button class="pagination-btn" (click)="goToNextPage()" [disabled]="currentPage() === totalPages()">
        ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Ä∫
      </button>
    </div>
  }
  </section>

  <div class="bottom-nav">
    <div class="selected-count" [class.has-selection]="selectedCount() > 0">
      ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß {{ selectedCount() }} ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
    </div>

    <button class="cta-primary" [class.active]="selectedCount() > 0" (click)="confirmActivities()">
      ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
    </button>
  </div>
</main>

}
