<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RealWorld XP - ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dashboard.component.css">
</head>
<body>
    <!-- Particles -->
    <div class="particles" id="particles"></div>

    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="logo">RealWorld XP</div>
        <div class="page-title">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</div>
        <div class="profile-section">
            <button class="profile-btn" onclick="toggleDropdown()">üë§</button>
            <div class="dropdown-menu" id="dropdownMenu">
                <div class="dropdown-item" onclick="openSettings()">‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</div>
                <div class="dropdown-item" onclick="logout()">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</div>
            </div>
        </div>
    </nav>
    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Summary Card -->
        <section class="hero-card">
            <h2 class="hero-header">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
            <p class="hero-result">
                ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏ã‡πÄ‡∏ä‡∏µ‡∏¢‡∏•: 
                <strong>{{ getStressLevelText() }}</strong>
            </p>
            
            <div class="progress-icon">
                {{user?.stress_level == 1 ? 'üòê' : (user?.stress_level == 2 ? 'üòü' : 'üò§')}}
            </div>
            <!-- <div class="progress-bar-container">
                <div class="progress-bar-fill" [style.width.%]="assessmentProgress"></div>
            </div> -->
            <p class="hero-description">
                ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö{{ getStressLevelText() }} 
            </p>
        </section>
        <section>
            <div class="section-header">
                <h2>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
            </div>
            <div class="progress-section">
                <div class="progress-card">
                    <div class="progress-icon">‚≠ê</div>
                    <div class="progress-value">Level {{ userLevel }}</div>
                    <div class="progress-label">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</div>
                    <div class="level-progress-container">
                        <div class="level-info">
                            <span>XP</span>
                            <span>{{ xpProgress }} / 100</span>
                        </div>
                        <div class="level-bar">
                            <div class="level-bar-fill" [style.width.%]="xpProgress"></div>
                        </div>
                    </div>
                </div>

                <div class="progress-card">
                    <div class="progress-icon">üî•</div>
                    <div class="progress-value">{{ dayStreak }} ‡∏ß‡∏±‡∏ô</div>
                    <div class="progress-label">‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô</div>
                </div>
            </div>
        </section>
        <!-- Recommended Activities -->
        <section class="activities-section">
            <div class="section-header">
                <h2>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</h2>
                <a href="all-activities" class="view-all-link">‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí</a>
            </div>
            <div class="activities-grid">
                <div class="activity-card" *ngFor="let activity of activities">
                    <span class="activity-icon">{{ getActivityIcon(activity) }}</span>
                    <h3 class="activity-title">{{ activity.activity_name }}</h3>
                    <div class="activity-tags">
                        <span class="tag" *ngFor="let tag of getActivityTags(activity)">
                        {{ tag.label }}
                        </span>
                    </div>
                    <button class="btn-start-activity" (click)="startActivity(currentUserId,activity.activity_id)">
                        ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏µ‡πâ
                    </button>
                </div>
            </div>
        </section>

        <!-- Daily Progress -->
        
    </main>

    <!-- Footer -->
    <footer class="footer">
        RealWorld XP ¬© 2025 | ‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏à‡∏£‡∏¥‡∏á
    </footer>

    <script>
        // Create particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Toggle dropdown
        function toggleDropdown() {
            const dropdown = document.getElementById('dropdownMenu');
            dropdown.classList.toggle('active');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const profileSection = document.querySelector('.profile-section');
            if (!profileSection.contains(e.target)) {
                document.getElementById('dropdownMenu').classList.remove('active');
            }
        });

        // Navigation functions
        function openSettings() {
            alert('‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤');
        }

        function logout() {
            if (confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                alert('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢');
            }
        }

        // Initialize
        window.addEventListener('load', () => {
            createParticles();
        });
    </script>
</body>
</html>