<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RealWorld XP - р╣Бр╕Фр╕Кр╕Ър╕нр╕гр╣Мр╕Фр╕Вр╕нр╕Зр╕Йр╕▒р╕Щ</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dashboard.component.css">
</head>
<body>
    <!-- Particles -->
    <div class="particles" id="particles"></div>

    <!-- Top Navigation -->
    <nav class="top-nav">
        <div>
            <a href="/home" class="logo">ЁЯМ▒RealWorld XP</a>
        </div>
        <div class="page-title">р╣Бр╕Фр╕Кр╕Ър╕нр╕гр╣Мр╕Фр╕Вр╕нр╕Зр╕Йр╕▒р╕Щ</div>
        <div class="profile-section">┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а┬а</div>
    </nav>
    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Summary Card -->
        <section class="hero-card">
            <h2 class="hero-header">р╕Ьр╕ер╕Бр╕▓р╕гр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Вр╕нр╕Зр╕Др╕╕р╕У</h2>
            <p class="hero-result">
                р╕Др╕╕р╕Ур╕бр╕╡р╕гр╕░р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Вр╕Лр╣Ар╕Кр╕╡р╕вр╕е: 
                <strong>{{ getStressLevelText() }}</strong>
            </p>
            
            <div class="progress-icon">
                {{user?.stress_level == 1 ? 'ЁЯШР' : (user?.stress_level == 2 ? 'ЁЯШЯ' : 'ЁЯШд')}}
            </div>
            <!-- <div class="progress-bar-container">
                <div class="progress-bar-fill" [style.width.%]="assessmentProgress"></div>
            </div> -->
            <p class="hero-description">
                р╕Др╕╕р╕Ур╕бр╕╡р╕Др╕зр╕▓р╕бр╣Ар╕Др╕гр╕╡р╕вр╕Фр╕нр╕вр╕╣р╣Ир╣Гр╕Щр╕гр╕░р╕Фр╕▒р╕Ъ{{ getStressLevelText() }} 
            </p>
        </section>
        <section>
            <div class="section-header">
                <h2>р╕Др╕зр╕▓р╕бр╕Бр╣Йр╕▓р╕зр╕лр╕Щр╣Йр╕▓р╣Гр╕Щр╕зр╕▒р╕Щр╕Щр╕╡р╣Й</h2>
            </div>
            <div class="progress-section">
                <div class="progress-card">
                    <div class="progress-icon">тнР</div>
                    <div class="progress-value">Level {{ userLevel }}</div>
                    <div class="progress-label">р╕гр╕░р╕Фр╕▒р╕Ър╕Вр╕нр╕Зр╕Др╕╕р╕У</div>
                    <div class="level-progress-container">
                        <div class="level-info">
                            <span>XP</span>
                            <span>{{ xpProgress }} / 100</span>
                        </div>
                        <div class="level-bar">
                            <div class="level-bar-fill" [style.width.%]="xpProgress"></div>
                        </div>
                    </div>
                </div>

                <div class="progress-card">
                    <div class="progress-icon">ЁЯФе</div>
                    <div class="progress-value">{{ dayStreak }} р╕зр╕▒р╕Щ</div>
                    <div class="progress-label">р╕Чр╕│р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Бр╕▒р╕Щ</div>
                </div>
            </div>
        </section>
        <!-- Recommended Activities -->
        <section class="activities-section">
            <div class="section-header">
                <h2>р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╕Др╕╕р╕У</h2>
                <a href="all-activities" class="view-all-link">р╕Фр╕╣р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф тЖТ</a>
            </div>
            <div class="activities-grid">
                <div class="activity-card" *ngFor="let activity of activities">
                    <span class="activity-icon">{{ getActivityIcon(activity) }}</span>
                    <h3 class="activity-title">{{ activity.activity_name }}</h3>
                    <div class="activity-tags">
                        <span class="tag" *ngFor="let tag of getActivityTags(activity)">
                        {{ tag.label }}
                        </span>
                    </div>
                    <button class="btn-start-activity" (click)="startActivity(currentUserId,activity.activity_id)">
                        р╣Ар╕гр╕┤р╣Ир╕бр╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Щр╕╡р╣Й
                    </button>
                </div>
            </div>
        </section>

        <!-- Daily Progress -->
        
    </main>

    <!-- Footer -->
    <footer class="footer">
        RealWorld XP ┬й 2025 | р╕Кр╣Ир╕зр╕вр╕кр╕гр╣Йр╕▓р╕Зр╕Кр╕╡р╕зр╕┤р╕Хр╕кр╕бр╕Фр╕╕р╕ер╣Гр╕Щр╣Вр╕ер╕Бр╕Ир╕гр╕┤р╕З
    </footer>

    <script>
        // Create particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Toggle dropdown
        function toggleDropdown() {
            const dropdown = document.getElementById('dropdownMenu');
            dropdown.classList.toggle('active');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const profileSection = document.querySelector('.profile-section');
            if (!profileSection.contains(e.target)) {
                document.getElementById('dropdownMenu').classList.remove('active');
            }
        });

        // Navigation functions
        function openSettings() {
            alert('р╣Ар╕Ыр╕┤р╕Фр╕лр╕Щр╣Йр╕▓р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓');
        }

        function logout() {
            if (confirm('р╕Др╕╕р╕Ур╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ър╕лр╕гр╕╖р╕нр╣Др╕бр╣И?')) {
                alert('р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ър╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕в');
            }
        }

        // Initialize
        window.addEventListener('load', () => {
            createParticles();
        });
    </script>
</body>
</html>