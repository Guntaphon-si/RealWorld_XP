<!-- Particles -->
<div class="particles" id="particles"></div>

<!-- Top Navigation -->
<nav class="top-nav">
  <div>
    <a href="/home" class="logo">üå±RealWorld XP</a>
  </div>
  <div class="page-title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥</div>
  <button class="btn-back" (click)="goToDashboard()">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ Dashboard</button>
</nav>

<!-- Main Content -->
<main class="main-content">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loader"></div>
    <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="errorMessage && !isLoading" class="error-container">
    <p class="error-text">{{ errorMessage }}</p>
    <button class="btn-retry" (click)="loadActivities()">‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
  </div>

  <!-- Content (when loaded) -->
  <div *ngIf="!isLoading && !errorMessage">
    <!-- Instruction Card -->
    <div class="instruction-card">
      <p class="instruction-text">
        ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏ô‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ô‡∏≥‡πÑ‡∏õ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì
      </p>
      <p class="instruction-subtext">
        ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
      </p>
    </div>

    <!-- Activities Grid -->
    <div class="activities-grid">
      <div 
        *ngFor="let activity of activities"
        class="activity-card"
        [class.selected]="isSelected(activity.activity_id)"
        (click)="toggleActivity(activity.activity_id)">
        
        <div class="activity-checkbox">
          <span class="checkmark">‚úì</span>
        </div>
        
        <span class="activity-icon">{{ getActivityIcon(activity) }}</span>
        <h3 class="activity-title">{{ activity.activity_name }}</h3>
        
        <div class="activity-tags">
          <span 
            *ngFor="let tag of getActivityTags(activity)" 
            class="tag"
            [class.tag-indoor]="tag.type === 'indoor'"
            [class.tag-outdoor]="tag.type === 'outdoor'"
            [class.tag-benefit]="tag.type === 'benefit'">
            {{ tag.label }}
          </span>
        </div>
        
        <p class="activity-description">{{ activity.description || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢' }}</p>
      </div>
    </div>
  </div>
</main>

<!-- Selection Summary Bar -->
<div class="summary-bar">
  <div class="selection-info">
    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß <span class="selection-count">{{ selectionCount }}</span> ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
  </div>
  <div class="summary-buttons">
    <button 
      class="btn-clear" 
      (click)="clearAll()"
      [disabled]="selectionCount === 0">
      ‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    </button>
    <button 
      class="btn-save" 
      (click)="saveSelection()"
      [disabled]="selectionCount === 0 || isSaving">
      {{ isSaving ? '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...' : '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å' }}
    </button>
  </div>
</div>